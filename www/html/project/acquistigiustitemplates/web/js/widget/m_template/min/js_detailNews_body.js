window.bootbox=window.bootbox||function a(c,e){function g(d,e,f){d.preventDefault();c.isFunction(f)&&!1===f(d)||e.modal("hide")}function f(c){var d,e=0;for(d in c)e++;return e}function d(d,e){var f=0;c.each(d,function(c,d){e(c,d,f++)})}function n(e){var g,h;if("object"!=typeof e)throw Error("Please supply an object of options");if(!e.message)throw Error("Please specify a message");return e=c.extend({},z,e),e.buttons||(e.buttons={}),e.backdrop=e.backdrop?"static":!1,g=e.buttons,h=f(g),d(g,function(e,
d,f){if(c.isFunction(d)&&(d=g[e]={callback:d}),"object"!==c.type(d))throw Error("button with key "+e+" must be an object");d.label||(d.label=e);d.className||(d.className=2>=h&&f===h-1?"btn-primary":"btn-default")}),e}function h(c,d){var e=c.length,f={};if(1>e||2<e)throw Error("Invalid argument length");return 2===e||"string"==typeof c[0]?(f[d[0]]=c[0],f[d[1]]=c[1]):f=c[0],f}function q(d,e,f){return c.extend(!0,{},d,h(e,f))}function k(c,d,e,f){c={className:"bootbox-"+c,buttons:D.apply(null,d)};return v(q(c,
f,e),d)}function D(){for(var c={},d=0,e=arguments.length;e>d;d++){var f=arguments[d],g=f.toLowerCase(),f=f.toUpperCase(),h=r[z.locale];c[g]={label:h?h[f]:r.en[f]}}return c}function v(c,f){var g={};return d(f,function(c,d){g[d]=!0}),d(c.buttons,function(c){if(g[c]===e)throw Error("button key "+c+" is not allowed (options are "+f.join("\n")+")");}),c}var l={text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",
select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>"},E=c("body"),z={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},w={alert:function(){var d;if(d=k("alert",["ok"],["message","callback"],arguments),d.callback&&!c.isFunction(d.callback))throw Error("alert requires callback property to be a function when provided");return d.buttons.ok.callback=
d.onEscape=function(){return c.isFunction(d.callback)?d.callback():!0},w.dialog(d)},confirm:function(){var d;if(d=k("confirm",["cancel","confirm"],["message","callback"],arguments),d.buttons.cancel.callback=d.onEscape=function(){return d.callback(!1)},d.buttons.confirm.callback=function(){return d.callback(!0)},!c.isFunction(d.callback))throw Error("confirm requires a callback");return w.dialog(d)},prompt:function(){var f,g,h,n,k,u,y;if(n=c("<form class='bootbox-form'></form>"),g={className:"bootbox-prompt",
buttons:D("cancel","confirm"),value:"",inputType:"text"},f=v(q(g,arguments,["title","callback"]),["cancel","confirm"]),u=f.show===e?!0:f.show,f.message=n,f.buttons.cancel.callback=f.onEscape=function(){return f.callback(null)},f.buttons.confirm.callback=function(){var e;switch(f.inputType){case "text":case "email":case "select":e=k.val();break;case "checkbox":var g=k.find("input:checked");e=[];d(g,function(d,f){e.push(c(f).val())})}return f.callback(e)},f.show=!1,!f.title)throw Error("prompt requires a title");
if(!c.isFunction(f.callback))throw Error("prompt requires a callback");if(!l[f.inputType])throw Error("invalid prompt type");switch(k=c(l[f.inputType]),f.inputType){case "text":case "email":k.val(f.value);break;case "select":var m={};if(y=f.inputOptions||[],!y.length)throw Error("prompt with select requires options");d(y,function(d,f){var g=k;if(f.value===e||f.text===e)throw Error("given options in wrong format");f.group&&(m[f.group]||(m[f.group]=c("<optgroup/>").attr("label",f.group)),g=m[f.group]);
g.append("<option value='"+f.value+"'>"+f.text+"</option>")});d(m,function(c,d){k.append(d)});k.val(f.value);break;case "checkbox":var r=c.isArray(f.value)?f.value:[f.value];if(y=f.inputOptions||[],!y.length)throw Error("prompt with checkbox requires options");if(!y[0].value||!y[0].text)throw Error("given options in wrong format");k=c("<div/>");d(y,function(e,g){var h=c(l[f.inputType]);h.find("input").attr("value",g.value);h.find("label").append(g.text);d(r,function(c,d){d===g.value&&h.find("input").prop("checked",
!0)});k.append(h)})}return f.placeholder&&k.attr("placeholder",f.placeholder),n.append(k),n.on("submit",function(c){c.preventDefault();h.find(".btn-primary").click()}),h=w.dialog(f),h.off("shown.bs.modal"),h.on("shown.bs.modal",function(){k.focus()}),!0===u&&h.modal("show"),h},dialog:function(f){f=n(f);var e=c("<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>"),
h=e.find(".modal-body"),q="",k={onEscape:f.onEscape};if(d(f.buttons,function(c,d){q+="<button data-bb-handler='"+c+"' type='button' class='btn "+d.className+"'>"+d.label+"</button>";k[c]=d.callback}),h.find(".bootbox-body").html(f.message),!0===f.animate&&e.addClass("fade"),f.className&&e.addClass(f.className),f.title&&h.before("<div class='modal-header'><h4 class='modal-title'></h4></div>"),f.closeButton){var l=c("<button type='button' class='bootbox-close-button close'>&times;</button>");f.title?
e.find(".modal-header").prepend(l):l.css("margin-top","-10px").prependTo(h)}return f.title&&e.find(".modal-title").html(f.title),q.length&&(h.after("<div class='modal-footer'></div>"),e.find(".modal-footer").html(q)),e.on("hidden.bs.modal",function(c){c.target===this&&e.remove()}),e.on("shown.bs.modal",function(){e.find(".btn-primary:first").focus()}),e.on("escape.close.bb",function(c){k.onEscape&&g(c,e,k.onEscape)}),e.on("click",".modal-footer button",function(d){var f=c(this).data("bb-handler");
g(d,e,k[f])}),e.on("click",".bootbox-close-button",function(c){g(c,e,k.onEscape)}),e.on("keyup",function(c){27===c.which&&e.trigger("escape.close.bb")}),E.append(e),e.modal({backdrop:f.backdrop,keyboard:!1,show:!1}),f.show&&e.modal("show"),e},setDefaults:function(){var d={};2===arguments.length?d[arguments[0]]=arguments[1]:d=arguments[0];c.extend(z,d)},hideAll:function(){c(".bootbox").modal("hide")}},r={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},
de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},
zh_CN:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};return w.init=function(d){window.bootbox=a(d||c)},w}(window.jQuery);$("body").keyup(function(b){27==b.keyCode&&bootbox.hideAll()});jQuery.fn.extend({customSerialize:function(){var b="<form>"+$(this).html()+"</form>";return $(b).serialize()},customSerializeArray:function(){var b="<form>"+$(this).html()+"</form>";return $(b).serializeArray()}});var ManagerLinks=function(){this.initListeners()};
ManagerLinks.prototype.initListeners=function(){var b=this;$("body").on("click",'[data-action="urlCopy"]',function(){b.openCopyLink(this)});$("body").on("click","[data-ln]",function(){b.openJsLink(this)});$("body").on("click","[lgt]",function(){b.openJsLink(this)})};ManagerLinks.prototype.openJsLink=function(b){var c=$(b).attr("lgt").substr(5),c=c.substr(0,c.length-5);c;"_blank"==$(b).attr("target")?window.open(atob(c),"_blank"):window.location.href=atob(c)};
ManagerLinks.prototype.openCopyLink=function(b){window.location.href=$(b).closest("[data-urlCopyFather]").find("[data-urlCopy]").attr("href")};managerLinks=null;managerLinks=new ManagerLinks;if("undefined"==typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");+function(b){b=b.fn.jquery.split(" ")[0].split(".");if(2>b[0]&&9>b[1]||1==b[0]&&9==b[1]&&1>b[2]||3<b[0])throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(jQuery);
+function(b){function c(c,d){return this.each(function(){var g=b(this),h=g.data("bs.modal"),q=b.extend({},e.DEFAULTS,g.data(),"object"==typeof c&&c);h||g.data("bs.modal",h=new e(this,q));"string"==typeof c?h[c](d):q.show&&h.show(d)})}var e=function(c,d){this.options=d;this.$body=b(document.body);this.$element=b(c);this.$dialog=this.$element.find(".modal-dialog");this.originalBodyPad=this.isShown=this.$backdrop=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,
b.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.VERSION="3.3.7";e.TRANSITION_DURATION=300;e.BACKDROP_TRANSITION_DURATION=150;e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};e.prototype.toggle=function(b){return this.isShown?this.hide():this.show(b)};e.prototype.show=function(c){var d=this,g=b.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(g);this.isShown||g.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),
this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',b.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(c){b(c.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var g=b.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body);d.$element.show().scrollTop(0);d.adjustDialog();g&&d.$element[0].offsetWidth;
d.$element.addClass("in");d.enforceFocus();var n=b.Event("shown.bs.modal",{relatedTarget:c});g?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(e.TRANSITION_DURATION):d.$element.trigger("focus").trigger(n)}))};e.prototype.hide=function(c){c&&c.preventDefault();c=b.Event("hide.bs.modal");this.$element.trigger(c);this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),b(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),
this.$dialog.off("mousedown.dismiss.bs.modal"),b.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",b.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal())};e.prototype.enforceFocus=function(){b(document).off("focusin.bs.modal").on("focusin.bs.modal",b.proxy(function(b){document===b.target||this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.trigger("focus")},this))};e.prototype.escape=function(){this.isShown&&
this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",b.proxy(function(b){27==b.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};e.prototype.resize=function(){this.isShown?b(window).on("resize.bs.modal",b.proxy(this.handleUpdate,this)):b(window).off("resize.bs.modal")};e.prototype.hideModal=function(){var b=this;this.$element.hide();this.backdrop(function(){b.$body.removeClass("modal-open");b.resetAdjustments();b.resetScrollbar();b.$element.trigger("hidden.bs.modal")})};
e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};e.prototype.backdrop=function(c){var d=this,g=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=b.support.transition&&g;if(this.$backdrop=b(document.createElement("div")).addClass("modal-backdrop "+g).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",b.proxy(function(b){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(b.target===
b.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),h&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),c)h?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):c()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),g=function(){d.removeBackdrop();c&&c()},b.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):
g()):c&&c()};e.prototype.handleUpdate=function(){this.adjustDialog()};e.prototype.adjustDialog=function(){var b=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&b?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!b?this.scrollbarWidth:""})};e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};e.prototype.checkScrollbar=function(){var b=window.innerWidth;b||(b=document.documentElement.getBoundingClientRect(),
b=b.right-Math.abs(b.left));this.bodyIsOverflowing=document.body.clientWidth<b;this.scrollbarWidth=this.measureScrollbar()};e.prototype.setScrollbar=function(){var b=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",b+this.scrollbarWidth)};e.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};e.prototype.measureScrollbar=function(){var b=document.createElement("div");
b.className="modal-scrollbar-measure";this.$body.append(b);var c=b.offsetWidth-b.clientWidth;return this.$body[0].removeChild(b),c};var g=b.fn.modal;b.fn.modal=c;b.fn.modal.Constructor=e;b.fn.modal.noConflict=function(){return b.fn.modal=g,this};b(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var d=b(this),g=d.attr("href"),h=b(d.attr("data-target")||g&&g.replace(/.*(?=#[^\s]+$)/,"")),g=h.data("bs.modal")?"toggle":b.extend({remote:!/#/.test(g)&&g},h.data(),d.data());d.is("a")&&
e.preventDefault();h.one("show.bs.modal",function(b){b.isDefaultPrevented()||h.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})});c.call(h,g,this)})}(jQuery);var ClassModals=function(){this.buttons=this.prompt=this.callbackModals=this.grittersDismissed=this.grittersResponse=this.gritterNotConfirm=this.gritterConfirm=this.gritter=this.confirm=this.type=this.message=this.title=null;this.initListeners()};ClassModals.prototype.initListeners=function(){var b=this;$('[data-toggle="modals"]').click(function(){b.setPatametersModals(this)})};
ClassModals.prototype.openModals=function(b){this.type="undefined"!=typeof b.type?b.type:null;this.title="undefined"!=typeof b.title?b.title:null;this.message="undefined"!=typeof b.message?b.message:null;this.confirm="undefined"!=typeof b.confirm?b.confirm:null;this.gritters="undefined"!=typeof b.gritters?b.gritters:null;this.grittersConfirm="undefined"!=typeof b.grittersConfirm?b.grittersConfirm:null;this.grittersNotConfirm="undefined"!=typeof b.grittersNotConfirm?b.grittersNotConfirm:null;this.grittersResponse=
"undefined"!=typeof b.grittersResponse?b.grittersResponse:null;this.grittersDismissed="undefined"!=typeof b.grittersDismissed?b.grittersDismissed:null;this.callbackModals="undefined"!=typeof b.callbackModals?b.callbackModals:null;this.finalCallback="undefined"!=typeof b.finalCallback?b.finalCallback:null;this.prompt="undefined"!=typeof b.prompt?b.prompt:null;this.buttons="undefined"!=typeof b.buttons?b.buttons:null;if(null!=this.type)switch(this.type){case "alert":this.modalsAlert();break;case "confirm":this.modalsConfirm();
break;case "prompt":this.modalsPrompt();break;case "custom":this.modalsCustom()}};ClassModals.prototype.modalsAlert=function(){var b=this;bootbox.alert(this.title,function(c){null!=b.gritters&&b.addGritters(b.gritters);null!=b.callbackModals&&b.callbackModals()})};
ClassModals.prototype.modalsConfirm=function(){var b=this;if(null==this.confirm)return!1;bootbox.confirm(this.confirm,function(c){c?(null!=b.finalCallback&&b.runFinalCallback(),null!=b.callbackModals&&b.callbackModals(),null!=b.grittersConfirm&&b.addGritters(b.grittersConfirm)):null!=b.grittersNotConfirm&&b.addGritters(b.grittersNotConfirm)})};
ClassModals.prototype.modalsPrompt=function(){var b=this;if(null==this.prompt)return!1;bootbox.prompt(this.prompt,function(c){null===c?null!=b.grittersDismissed&&b.addGritters(b.grittersDismissed):null!=b.grittersResponse&&(null!=b.callbackModals&&b.callbackModals(c),b.addGritters(b.grittersResponse,c))})};ClassModals.prototype.modalsCustom=function(b,c){var e=this;bootbox.dialog({title:this.title,message:this.callbackModals});setTimeout(function(){e.runFinalCallback()},1E3)};
ClassModals.prototype.runFinalCallback=function(b,c){null!=this.finalCallback&&"undefined"!=typeof this.finalCallback&&("undefined"!=typeof this.finalCallback.params?this.finalCallback.call(this.finalCallback.params[0]):this.finalCallback.call())};ClassModals.prototype.addGritters=function(b,c){var e="undefined"!=typeof c?c:"";$.each(b,function(b,c){$.gritter.add({title:"undefined"!=typeof c.title?c.title:"",text:("undefined"!=typeof c.text?c.text:"")+" "+e})})};classModals=null;classModals=new ClassModals;
var Core=null;
(function(b){b.fn.exists=function(){return 0<this.length};b("body").attr("class");var c=b(".main-nav");b(".post-grid--fitRows");var e=b(".post-grid--masonry"),g=b(".post-grid--masonry-filter"),f=b(".posts--slider-featured");b(".featured-carousel");b(".video-carousel");b(".team-roster--slider");b(".awards--slider");b(".player-info");b(".product__slider");b(".product__slider-soccer");b(".team-roster--card-slider");b(".team-roster--case-slider");var d=b(".hero-slider"),n=b(".content-filter");b(".marquee");
Core={initialize:function(){var b=this;this.headerNav();this.SlickCarousel();this.InitSearch();setTimeout(function(){b.isotope()},100);setTimeout(function(){b.InitHeroSlider()},5E3)},InitSearch:function(){b(".searchArticlesIcon").click(function(c){b(".formSearchArticles").toggle();c.preventDefault();c.stopPropagation()});b(".searchArticlesInput, .searchArticleButton, .formSearchArticles select").click(function(b){b.stopPropagation()});b("body").click(function(){"block"==b(".formSearchArticles").css("display")&&
b(".formSearchArticles").toggle()})},headerNav:function(){if(c.exists()){var d=b(".nav-account"),e=b(".nav-account > li"),f=b(".social-links--main-nav"),g=b(".info-block--header > li"),n=b(".site-wrapper"),l=b(".main-nav__list"),E=b(".main-nav__list > li"),z=b("#header-mobile__toggle"),w=b(".pushy-panel__toggle");if(isMobile){var r=b(".header-search-form").clone();b("#header-mobile").append(r);b(".info-block__item--shopping-cart > .info-block__link-wrapper").clone().appendTo(l).wrap('<li class="main-nav__item--shopping-cart"></li>');
d.exists()&&(d=d.children().clone(),l.append(d));d=b(".header-mobile__logo").clone();l.prepend(d);d.prepend('<span class="main-nav__back"></span>');d=b(".info-block__item--contact-primary").clone();r=b(".info-block__item--contact-secondary").clone();l.append(d).append(r);f.exists()&&f.children().clone().contents().unwrap().appendTo(l).wrapAll('<li class="main-nav__item--social-links"></li>');e.has("ul").addClass("has-children");g.has("ul").addClass("has-children");z.on("click",function(){n.toggleClass("site-wrapper--has-overlay")});
b(".site-overlay, .main-nav__back").on("click",function(){n.toggleClass("site-wrapper--has-overlay")})}w.on("click",function(b){b.preventDefault();n.toggleClass("site-wrapper--has-overlay-pushy")});b(".site-overlay, .pushy-panel__back-btn").on("click",function(b){b.preventDefault();n.removeClass("site-wrapper--has-overlay-pushy site-wrapper--has-overlay")});E.has(".main-nav__sub").addClass("has-children").prepend('<span class="main-nav__toggle"></span>');E.has(".main-nav__megamenu").addClass("has-children").prepend('<span class="main-nav__toggle"></span>');
b(".main-nav__toggle").on("click",function(){b(this).toggleClass("main-nav__toggle--rotate").parent().siblings().children().removeClass("main-nav__toggle--rotate");b(".main-nav__sub, .main-nav__megamenu").not(b(this).siblings(".main-nav__sub, .main-nav__megamenu")).slideUp("normal");b(this).siblings(".main-nav__sub").slideToggle("normal");b(this).siblings(".main-nav__megamenu").slideToggle("normal")});b(".main-nav__list > li > ul > li").has(".main-nav__sub-2").addClass("has-children").prepend('<span class="main-nav__toggle-2"></span>');
b(".main-nav__list > li > ul > li > ul > li").has(".main-nav__sub-3").addClass("has-children").prepend('<span class="main-nav__toggle-2"></span>');b(".main-nav__toggle-2").on("click",function(){b(this).toggleClass("main-nav__toggle--rotate");b(this).siblings(".main-nav__sub-2").slideToggle("normal");b(this).siblings(".main-nav__sub-3").slideToggle("normal")});b("#header-mobile__search-icon").on("click",function(){b(this).toggleClass("header-mobile__search-icon--close");b(".header-mobile").toggleClass("header-mobile--expanded")})}},
isotope:function(){if(e.exists()&&!isMobile)var c=e.imagesLoaded(function(){c.isotope({itemSelector:".post-grid__item",layoutMode:"masonry",percentPosition:!1,masonry:{columnWidth:".post-grid__item"}});b(".widget_PostGrid .col-sm-4").css("paddingLeft","10px")});if(g.exists())var d=g.imagesLoaded(function(){var c=b(".js-category-filter");d.isotope({filter:"*",itemSelector:".post-grid__item",layoutMode:"masonry",masonry:{columnWidth:".post-grid__item"}});c.on("click","button",function(){var e=b(this).attr("data-filter");
c.find("button").removeClass("category-filter__link--active");b(this).addClass("category-filter__link--active");d.isotope({filter:e})})})},SlickCarousel:function(){f.exists()&&f.slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5E3,responsive:[{breakpoint:768,settings:{arrows:!1}}]})},InitHeroSlider:function(){d.exists()&&(d.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,autoplay:!0,centerMode:!0,autoplaySpeed:5E3,asNavFor:".hero-slider-thumbs",responsive:[{breakpoint:992,
settings:{fade:!1}}]}),b(".hero-slider-thumbs").slick({slidesToShow:3,slidesToScroll:1,asNavFor:d,focusOnSelect:!0}))},ResetHeroSlider:function(){},ContentFilter:function(){if(n.exists())b(".content-filter__toggle").on("click",function(c){c.preventDefault();b(this).toggleClass("content-filter__toggle--active");b(".content-filter__list").toggleClass("content-filter__list--expanded")})}}})(jQuery);function initIsoTop(){Core.initialize()}initIsoTop();var main=null,Main=function(){this.initListeners()};
Main.prototype.initListeners=function(){if(1==getReserverMsg){var b={type:"custom",title:"Benvenuto su IlDemolitore.it",callbackModals:'            <div class="containerMsg">                <div class="containerMsg">                    <div>                        <label>Siamo spiacenti, ma la sezione da te scelta \u00e8 accessibile solo agli utenti registratri!</label>                    </div>                </div>                    <div class="containerForm">                    <form id="formLogin" class="login-form" data-formLogin>                        <div class="form__row">                            <div>                                <input id="loginEmail" class="form__input-text form__input-text--m-top" type="email" name="loginEmail" placeholder="E-mail" value="">                            </div>                            <div>                                <input id="loginPassword" class="form__input-text form__input-text--m-top" type="password" name="loginPassword" placeholder="Password" value="">                            </div>                            <label class="lblForgotPwd" data-forgotPwd="1" >Hai dimenticato la password?</label>                            <div class="form__row form__row--m-login">                                <div>                                    <input id="button-login" class="button button--fill button--big" type="submit" data-defaultLogin value="Accedi">                                </div>                                <label class="lblRegister" data-register="1" >Non sei ancora registrato?</label>                            </div>                        </div>                    </form>                </div>                <div>                    <input class="facebookLogin button button--fill button--big" data-FbLogin type="submit" value="Accedi con Fb">                </div>                <div>                    <input class="googleLogin button button--fill button--big" data-GoogleLogin type="submit" value="Accedi con Google">                </div>            </div>'};
classModals.openModals(b)}2==getReserverMsg&&(b={type:"custom",title:"Benvenuto su IlDemolitore.it",callbackModals:'            <div class="containerMsg">                <div class="containerMsg">                    <div>                        Siamo spiacenti, ma la sezione da te scelta \u00e8 accessibile solo agli utenti autorizzati dal Demolitore!                    </div>                    <br>                    <br>                    <div class="containerEmail">                        <div>Contatta Il Demolitore a questa email <label class="demoMail"> '+
demoEmail+"</label></div>                    </div>                </div>            </div>"},classModals.openModals(b))};Main.prototype.trackGAClickEvent=function(b,c,e,g){if("undefined"==typeof b||"undefined"==typeof c||"undefined"==typeof e||"undefined"==typeof ga)return!1;"undefined"!=typeof ga&&null!=b&&c&&(ga("send","event",b,c,e,4),console.info(typeof ga));return!0};
Main.prototype.lazy=function(b){"undefined"==typeof b&&(b="");"undefined"!=typeof unveil&&$(b+" .lazy").unveil(300,function(){$(this).load(function(){this.style.opacity=1})})};
Main.prototype.appDownload=function(b,c){if("close"==c)$(b).closest(".widget_TopAppDownload").slideUp("slow"),this.setCookie("appDownload",1,864E5);else{var e=navigator.userAgent.toLowerCase();this.setCookie("appDownload",1,864E5);-1<e.search("iphone")?window.location.href=encodeURI(urlIosStore):-1<e.search("android")&&(window.location.href=urlPlayStore)}};
Main.prototype.setCookie=function(b,c,e){if(e){var g=new Date;g.setTime(g.getTime()+e);e="; expires="+g.toGMTString()}else e="";document.cookie=b+"="+c+e+"; path=/"};Main.prototype.getCookie=function(b){b+="=";for(var c=document.cookie.split(";"),e=0;e<c.length;e++){for(var g=c[e];" "==g.charAt(0);)g=g.substring(1,g.length);if(0==g.indexOf(b))return g.substring(b.length,g.length)}return null};Main.prototype.unsetCookie=function(b){this.setCookie(b,"",-1)};
Main.prototype.openDataIntLink=function(b){window.location.href=b};
(function(b){b.winFocus||(b.extend({winFocus:function(){var c=!0,e=[];b(document).data("winFocus")||b(document).data("winFocus",b.winFocus.init());for(x in arguments)"object"==typeof arguments[x]?(arguments[x].blur&&b.winFocus.methods.blur.push(arguments[x].blur),arguments[x].focus&&b.winFocus.methods.focus.push(arguments[x].focus),arguments[x].blurFocus&&b.winFocus.methods.blurFocus.push(arguments[x].blurFocus),arguments[x].initRun&&(c=arguments[x].initRun)):"function"==typeof arguments[x]?e.push(arguments[x]):
"boolean"==typeof arguments[x]&&(c=arguments[x]);e&&(1==e.length?b.winFocus.methods.blurFocus.push(e[0]):(b.winFocus.methods.blur.push(e[0]),b.winFocus.methods.focus.push(e[1])));if(c)b.winFocus.methods.onChange()}}),b.winFocus.init=function(){b.winFocus.props.hidden in document?document.addEventListener("visibilitychange",b.winFocus.methods.onChange):(b.winFocus.props.hidden="mozHidden")in document?document.addEventListener("mozvisibilitychange",b.winFocus.methods.onChange):(b.winFocus.props.hidden=
"webkitHidden")in document?document.addEventListener("webkitvisibilitychange",b.winFocus.methods.onChange):(b.winFocus.props.hidden="msHidden")in document?document.addEventListener("msvisibilitychange",b.winFocus.methods.onChange):(b.winFocus.props.hidden="onfocusin")in document?document.onfocusin=document.onfocusout=b.winFocus.methods.onChange:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=b.winFocus.methods.onChange;return b.winFocus},b.winFocus.methods={blurFocus:[],blur:[],focus:[],
exeCB:function(c){b.winFocus.methods.blurFocus&&b.each(b.winFocus.methods.blurFocus,function(e,g){"function"==typeof this&&this.apply(b.winFocus,[c,!c.hidden])});c.hidden&&b.winFocus.methods.blur&&b.each(b.winFocus.methods.blur,function(e,g){"function"==typeof this&&this.apply(b.winFocus,[c])});!c.hidden&&b.winFocus.methods.focus&&b.each(b.winFocus.methods.focus,function(e,g){"function"==typeof this&&this.apply(b.winFocus,[c])})},onChange:function(c){var e={focus:!1,focusin:!1,pageshow:!1,blur:!0,
focusout:!0,pagehide:!0};if(c=c||window.event)c.hidden=c.type in e?e[c.type]:document[b.winFocus.props.hidden],b(window).data("visible",!c.hidden),b.winFocus.methods.exeCB(c);else try{b.winFocus.methods.onChange.call(document,new Event("visibilitychange"))}catch(g){}}},b.winFocus.props={hidden:"hidden"})})(jQuery);$(function(){/Mobi/.test(navigator.userAgent)&&$.winFocus(function(b,c){},!1)});
var main=null,main=new Main,WidgetArticle=function(){var b=this;this.initListeners();if("function"==typeof SpeechSynthesisUtterance){var c=new SpeechSynthesisUtterance,e=window.speechSynthesis.getVoices();c.voice=e[21];c.voiceURI="native";c.volume=.5;c.rate=10;c.pitch=0;c.text="buongiorno a tutti totti a smesso di giocare a pallone";c.lang="it-IT"}speechSynthesis.cancel();$("#speakNews #play").click(function(){b.speakSite($(".widget_Article #contentArticleBody").html());$("#speakNews #play").hide();
$("#speakNews #pause").show()});$("#speakNews #pause").click(function(){$("#speakNews #pause").hide();$("#speakNews #resume").show();speechSynthesis.pause()});$("#speakNews #resume").click(function(){$("#speakNews #resume").hide();$("#speakNews #pause").show();speechSynthesis.resume()})};WidgetArticle.prototype.parseHtmlEntities=function(b){return b.replace(/&#([0-9]{1,3});/gi,function(b,e){var g=parseInt(e,10);return String.fromCharCode(g)})};
WidgetArticle.prototype.speakSite=function(b){speechSynthesis.cancel();b=b.toLowerCase();b=this.parseHtmlEntities(b.replace(/<.*?>/g,""));b=b.replace("&agrave","\u00e0").replace("&eacute","\u00e9").replace("&egrave","\u00e8").replace("&igrave","\u00ec").replace("&ograve","\u00f2").replace("&ugrave","\u00f9").replace("clicca qui per continuare a leggere","").replace("-",",").replace("/",",").replace("?","?,").replace(/&nbsp;/gi,"").replace(/\./g,",").replace(/\//g,",").replace(/\-/g,",");"function"==
typeof SpeechSynthesisUtterance&&setTimeout(function(){var c=new SpeechSynthesisUtterance,e=window.speechSynthesis.getVoices();c.voice=e.filter(function(b){return"Luca"==b.name})[0];c.voiceURI="native";c.volume=.5;c.rate=10;c.pitch=0;c.text=b;c.lang="it-IT";speechSynthesis.speak(c);speechSynthesis.resume()},1E3)};
WidgetArticle.prototype.addLike=function(){var b=$("[data-like]").attr("data-like"),c=$("[data-id]").attr("data-id");""==b&&(b=0);$.ajax({url:"/ajax/addLike/"+c+"/"+b,type:"GET",async:!0,dataType:"json"}).done(function(c){b=parseInt(b)+1;$(".meta__item--likes").find("div").text(b);$("[data-like]").attr("data-like",b)})};WidgetArticle.prototype.initListeners=function(){var b=this;$("#form_save").closest(".form-group").remove();$("body").on("click","[data-like]",function(c){b.addLike()})};
var widgetArticle=null,widgetArticle=new WidgetArticle,WidgetComment=function(){this.initListeners()};
WidgetComment.prototype.addComment=function(){var b=$("[data-id]").attr("data-id"),c=$('[data-msg="1"]').val();$.ajax({url:"/ajax/addComment/"+b+"/"+c,type:"GET",async:!0,dataType:"html"}).done(function(b){$('[data-msg="1"]').hasClass("redBorder")&&$('[data-msg="1"]').removeClass("redBorder");$('[data-msg="1"]').val("");if(0!=b){var c=$(".widget_Comment").find(".post-comments").find("span").text();""!=c&&($(".widget_Comment").find(".post-comments").find("span").text(parseInt(c)+1),$(".widget_Comment").find(".post-comments").removeClass("tot_0"),
$(".widget_Comment").find(".post-comments").addClass("tot_1"));$(".comments").prepend(b)}})};WidgetComment.prototype.initListeners=function(){var b=this;$("body").on("click",'[data-submitcomment="1"]',function(c){if(""==$('[data-msg="1"]').val())return $('[data-msg="1"]').addClass("redBorder"),!1;1!=widgetUser.isLogged()?widgetUser.openPopupLogin():($('[data-msg="1"]').hasClass("redBorder")&&$('[data-msg="1"]').removeClass("redBorder"),b.addComment())})};
var widgetComment=null,widgetComment=new WidgetComment,MobileSlider=function(){this.index=1;this.totalLi=$('[dataMobileSlider="1"] li').length;this.initListeners()};
MobileSlider.prototype.initListeners=function(){var b=this;$("body").on("click",'[dataMobileSlider="1"] [data-btn="arrowL"]',function(){clearInterval(b.interval);b.changeSlider("-");b.initInterval()});$("body").on("click",'[dataMobileSlider="1"] [data-btn="arrowR"]',function(){clearInterval(b.interval);b.changeSlider("+");b.initInterval()});this.initInterval()};MobileSlider.prototype.initInterval=function(){var b=this;this.interval=setInterval(function(){b.changeSlider()},5E3)};
MobileSlider.prototype.changeSlider=function(b){$('[dataMobileSlider="1"] li').hide();this.index="undefined"==typeof b||"+"==b?this.index+1>this.totalLi?1:this.index+1:0>=this.index-1?this.totalLi:this.index-1;$('[dataMobileSlider="1"] li:nth-child('+this.index+")").show()};mobileSlider=null;mobileSlider=new MobileSlider;
(function(b){function c(c){var d=this;b.extend(d,{container:b("#notyfy_container_"+c.layout),closed:!1,shown:!1,_triggerEvent:function(c,e){var f=b.Event("notyfy"+c);d.wrapper.trigger(f,[d].concat(e||[]));return!f.isDefaultPrevented()},_generateID:function(){var b;do b="notyfy_"+(new Date).getTime()*Math.floor(1E6*Math.random());while(document.getElementById(b));return b},init:function(){var e;d.options=b.extend({},b.notyfy.defaults,{id:d._generateID()},c);d.container.length?d.container.removeClass("i-am-new"):
(d.container=c.custom?c.custom.addClass("notyfy_container_inline"):b("<ul />",{id:"notyfy_container_"+d.options.layout,"class":"notyfy_container"}).appendTo(d.options.custom||document.body),(e=b.notyfy.layouts[d.options.layout])&&b(window).bind("resize."+d.options.id,function(b){e.call(d.container)}).triggerHandler("resize."+d.options.id),d.container.addClass("i-am-new"));d._build();return d},_build:function(){var c=b("<div />",{id:d.options.id,"class":"notyfy_bar"}).append(d.options.template).find(".notyfy_text").html(d.options.text).end();
d.wrapper=b("<li />",{"class":["notyfy_wrapper","notyfy_"+d.options.type].join(" ")}).hide().append(c);d.options.theme&&d.wrapper.addClass("notyfytheme_"+d.options.theme);d.options.buttons&&(d.options.closeWith=[],d.options.timeout=!1,d.buttons=b("<div/>",{"class":"notyfy_buttons"}).appendTo(b(".notyfy_bar",d.wrapper)).append(b.map(d.options.buttons,function(c,e){return b("<button/>",{"class":c.addClass||"gray",html:c.text,click:function(){b.isFunction(c.onClick)&&c.onClick.call(b(this),d)}})[0]})));
b.each(d.options.events,function(c,e){b.isFunction(e)&&d.wrapper.bind("notyfy"+c,e)});d.message=d.wrapper.find(".notyfy_message");d.closeButton=d.wrapper.find(".notyfy_close");b.notyfy.store[d.options.id]=d},show:function(c){function e(){d._triggerEvent("shown");d.shown=!0}d.wrapper.appendTo(d.container);if(-1<b.inArray("click",d.options.closeWith))d.wrapper.css("cursor","pointer").one("click",d.close);if(-1<b.inArray("hover",d.options.closeWith))d.wrapper.one("mouseenter",d.close);if(-1<b.inArray("button",
d.options.closeWith))d.closeButton.one("click",d.close);-1==b.inArray("button",d.options.closeWith)&&d.closeButton.remove();d._triggerEvent("show");b.isFunction(d.options.showEffect)?(d.wrapper.clearQueue().stop(),d.options.showEffect.call(d,d.wrapper),d.wrapper.queue(e)):(d.wrapper.show(),e());d.options.timeout&&(clearTimeout(d._delay),d._delay=setTimeout(function(){d.close()},parseInt(d.options.timeout,10)));return d},close:function(c){function f(){d._triggerEvent("hidden");d.options.modal&&e.hideModalFor(d);
e.setLayoutCountFor(d,-1);0==e.getLayoutCountFor(d)&&d.wrapper.remove();"undefined"!==typeof d.wrapper&&null!==d.wrapper&&(d.wrapper.remove(),d.wrapper=null,d.closed=!0);delete b.notyfy.store[d.options.id];d.options.dismissQueue||(b.notyfy.ontap=!0,e.render())}d.closed||(d.shown?(d.wrapper.addClass("i-am-closing-now"),d._triggerEvent("hide"),b.isFunction(d.options.hideEffect)?(d.wrapper.clearQueue().stop(),d.options.hideEffect.call(d,d.wrapper),d.wrapper.queue(f)):(d.wrapper.hide(),f())):b.notyfy.queue=
b.map(b.notyfy.queue,function(b,c){if(b.options.id!=d.options.id)return b}))},setText:function(b){d.closed||(d.options.text=b,d.wrapper.find(".notyfy_text").html(b));return d},setType:function(b){d.closed||(d.options.type=b);return d}});d.init()}var e=b.notyfyRenderer={_modal:b("<div/>",{id:"notyfy_modal",data:{notyfy_modal_count:0}}),_modals:0,init:function(f){f=new c(f);b.notyfy.queue[f.options.force?"unshift":"push"](f);e.render();return f},render:function(){var c=b.notyfy.queue[0];"object"===
b.type(c)?c.options.dismissQueue?e.show(b.notyfy.queue.shift()):b.notyfy.ontap&&(e.show(b.notyfy.queue.shift()),b.notyfy.ontap=!1):b.notyfy.ontap=!0},show:function(b){b.options.modal&&(e.createModalFor(b),e.setModalCount(1));e.setLayoutCountFor(b,1);b.show()},createModalFor:function(b){e._modal[0].parentNode||e._modal.prependTo(document.body).fadeIn("fast")},hideModalFor:function(b){e.setModalCount(-1);0==e.getModalCount()&&e._modal.fadeOut("fast",function(){e._modal.detach()})},getLayoutCountFor:function(b){return b.container.data("notyfy_layout_count")||
0},setLayoutCountFor:function(b,c){return b.container.data("notyfy_layout_count",e.getLayoutCountFor(b)+c)},getModalCount:function(){return e._modals},setModalCount:function(b){return e._modals+=b}},g=b(window);b.notyfy={ontap:!0,queue:[],store:{},layouts:{center:function(){this[0].style.top=g.height()/2-this.outerHeight()/2+"px";this[0].style.left=g.width()/2-this.outerWidth()/2+"px"},centerLeft:function(){this[0].style.top=g.height()/2-this.outerHeight()/2+"px"},centerRight:function(){this[0].style.top=
g.height()/2-this.outerHeight()/2+"px"},topCenter:function(){this[0].style.left=g.width()/2-this.outerWidth()/2+"px"},bottomCenter:function(){this[0].style.left=g.width()/2-this.outerWidth()/2+"px"}},get:function(c){return b.notyfy.store.hasOwnProperty(c)?b.notyfy.store[c]:!1},close:function(c){return b.notyfy.get(c)?b.notyfy.get(c).close():!1},setText:function(c,d){return b.notyfy.get(c)?b.notyfy.get(c).setText(d):!1},setType:function(c,d){return b.notyfy.get(c)?b.notyfy.get(c).setType(d):!1},clearQueue:function(){b.notyfy.queue=
[]},closeAll:function(){b.notyfy.clearQueue();b.each(b.notyfy.store,function(b,c){c.close()})},consumeAlert:function(b){window.alert=function(c){b?b.text=c:b={text:c};e.init(b)}},stopConsumeAlert:function(){delete window.alert},defaults:{layout:"top",theme:!1,type:"alert",text:"",dismissQueue:!0,template:'<div class="notyfy_message notifySuccess"><span class="notyfy_text"></span><div class="notyfy_close"></div></div>',showEffect:function(b){b.animate({height:"toggle"},500,"swing")},hideEffect:function(b){b.animate({height:"toggle"},
500,"swing")},timeout:!1,force:!1,modal:!1,buttons:!1,closeWith:["click"],events:{show:null,hide:null,shown:null,hidden:null}}};window.notyfy=function(b){return e.init(b)};b.fn.notyfy=function(c){c.custom=b(this);return e.init(c)}})(jQuery);var ClassNotyfy=function(b){this.cancel=this.confirm=this.mex=this.type=null;this.layout="top";this.popupNotify=null;this.noClose="undefined"!=typeof b?b:!0;this.initListeners()};ClassNotyfy.prototype.initListeners=function(){var b=this;$('[data-toggle="notyfy"]').click(function(){b.setPatametersNotyfy(this)})};
ClassNotyfy.prototype.setPatametersNotyfy=function(b){this.type="undefined"!=typeof $(b).data("type")?$(b).data("type"):null;this.mex="undefined"!=typeof $(b).data("mex")?$(b).data("mex"):null;this.confirm="undefined"!=typeof $(b).data("confirm")?$(b).data("confirm"):null;this.cancel="undefined"!=typeof $(b).data("cancel")?$(b).data("cancel"):null;this.layout="undefined"!=typeof $(b).data("layout")?$(b).data("layout"):null;null!=this.type&&null!=this.mex&&this.runNotyfy()};
ClassNotyfy.prototype.openNotyfy=function(b){this.type="undefined"!=typeof b.type?b.type:null;this.mex="undefined"!=typeof b.mex?b.mex:null;this.confirm="undefined"!=typeof b.confirm?b.confirm:null;this.cancel="undefined"!=typeof b.cancel?b.cancel:null;this.layout="undefined"!=typeof b.layout?b.layout:null;null!=this.type&&null!=this.mex&&this.runNotyfy()};
ClassNotyfy.prototype.runNotyfy=function(){var b=this;null!==this.popupNotify?(this.popupNotify.close(),setTimeout(function(){b.open()},1E3)):this.open();setTimeout(function(){b.popupNotify.close()},5E3)};
ClassNotyfy.prototype.open=function(){var b=this;this.popupNotify=notyfy({text:b.mex,type:b.type,dismissQueue:!0,layout:b.layout,buttons:"confirm"!=b.type?!1:[{addClass:"btn btn-success btn-small btn-icon glyphicons ok_2",text:"<i></i> Ok",onClick:function(c){c.close();if(null==b.confirm)return!0;notyfy({force:!0,text:b.confirm,type:"success",layout:b.layout})}},{addClass:"btn btn-danger btn-small btn-icon glyphicons remove_2",text:"<i></i> Cancel",onClick:function(c){c.close();if(null==b.cancel)return!0;
notyfy({force:!0,text:b.cancel,type:"error",layout:b.layout})}}]})};classNotyfy=null;classNotyfy=new ClassNotyfy;var Modules=function(){this.aModules=[]};Modules.prototype.add=function(b,c,e,g,f,d){this.aModules[b]={widget:b,core:c,loadType:e,limit:g,category:f,varAttrAjax:d}};Modules.prototype.getDataModule=function(b){return"undefined"==typeof this.aModules[b]?!1:this.aModules[b]};
Modules.prototype.load=function(){for(item in this.aModules)1==this.aModules[item].loadType&&this.getAsync(this.aModules[item].widget,this.aModules[item].core,this.aModules[item].limit,this.aModules[item].category,this.aModules[item].varAttrAjax)};Modules.prototype.getAsync=function(b,c,e,g,f){var d=this,n=idNews;setTimeout(function(){d.getModule(b,c,n,!1,!1,e,g,f)},100)};
Modules.prototype.getModule=function(b,c,e,g,f,d,n,h){var q=this;"undefined"==typeof e&&(e="");"undefined"==typeof g&&(g="");$("["+h+"]").hide();var k="widget="+b+"&cores="+c+"&limit="+d+"&category="+n+"&id="+e+g+"";$.ajax({url:ajaxCallPath+"widget?"+k,type:"GET",async:!0,dataType:"html"}).done(function(c){"undefined"!=typeof q.aModules[b]&&"widget_CommentsMatch"!=b&&(q.aModules[b].open=e);$('[dataReplaceWidget="'+h+'"]').replaceWith(c);setTimeout(function(){$("[dataReplaceWidget]").show()},500);
c=$("."+b).attr("data-callFunctions");"undefined"!=typeof c&&1==c&&q.getCallDataFunctionWidget(c,k)})};Modules.prototype.getCallDataFunctionWidget=function(b,c){$.ajax({url:ajaxCallPath+"dataWidget?"+c,type:"GET",async:!0,dataType:"html"}).done(function(b){socketClient.eachData(jQuery.parseJSON(b))})};modules=null;modules=new Modules;var WidgetPoll=function(){this.widget=$(".widget_Poll");this.initListeners()};
WidgetPoll.prototype.initListeners=function(){"/all/list/polls"==window.location.pathname&&$("[data-pollLabel]").hide();var b=this;$("body").on("click","[data-votePoll]",function(c){b.votePoll(this)});$("body").on("click","[data-resultPoll]",function(c){b.resultPoll(this)});if(""!=window.location.search){var c=window.location.search.substring(1).split("=");"idPoll"==c[0]&&this.openPopUpPoll(c[1])}setTimeout(function(){Core.isotope()},500)};
WidgetPoll.prototype.resultPoll=function(b,c){var e=$(b).attr("data-pollId");console.info(e);$.ajax({url:"/ajax/poll/"+e+"/res",type:"GET",async:!0,dataType:"html"}).done(function(b){$("[data-id="+e+"]").closest("div").replaceWith(b);"undefined"!=typeof $(".modal-dialog").find(".question").attr("data-id")&&$(".modal-dialog").find("[data-pollContainer]").replaceWith(b);$("[data-id="+e+"]").closest("table").find("[data-resultPoll]").hide();$("[data-id="+e+"]").closest(".widget_Poll").find("[data-pollLabel]").hide()})};
WidgetPoll.prototype.votePoll=function(b){var c=$(b).attr("data-pollId"),e=null;$(".check").each(function(){this.checked&&(e=$(this).attr("data-key"))});null==e&&(e="popUp");$.ajax({url:"/ajax/poll/"+c+"/"+e,type:"GET",async:!0,dataType:"html"}).done(function(b){$("[data-id="+c+"]").closest("div").replaceWith(b);"undefined"!=typeof $(".modal-dialog").find(".question").attr("data-id")&&$(".modal-dialog").find(".pollContainer").replaceWith(b);"popUp"!=e&&$("[data-id="+c+"]").closest("table").find(".btn").hide();
$("[data-id="+c+"]").closest(".widget_Poll").find(".pollLabel").hide()})};WidgetPoll.prototype.openPopUpPoll=function(b){$.ajax({url:"/ajax/poll/"+b+"/popUp",type:"GET",async:!0,dataType:"html"}).done(function(b){classModals.openModals({type:"custom",title:"",callbackModals:'            <div class="pollContainer">'+b+"</div>"});$(".modal-dialog .modal-body").css("margin-bottom","0")})};widgetPoll=null;$(function(){WidgetPoll=new WidgetPoll});var gapi=window.gapi=window.gapi||{};gapi._bs=(new Date).getTime();
(function(){var b=this,c=String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},e=function(b,c){return b<c?-1:b>c?1:0},g;a:{var f=b.navigator;if(f&&(f=f.userAgent)){g=f;break a}g=""}var d=function(b,c){var d=z;Object.prototype.hasOwnProperty.call(d,b)||(d[b]=c(b))},n=-1!=g.indexOf("Opera"),h=-1!=g.indexOf("Trident")||-1!=g.indexOf("MSIE"),q=-1!=g.indexOf("Edge"),k=-1!=g.indexOf("Gecko")&&!(-1!=g.toLowerCase().indexOf("webkit")&&-1==g.indexOf("Edge"))&&
!(-1!=g.indexOf("Trident")||-1!=g.indexOf("MSIE"))&&-1==g.indexOf("Edge"),D=-1!=g.toLowerCase().indexOf("webkit")&&-1==g.indexOf("Edge"),f=function(){var c=b.document;return c?c.documentMode:void 0},v;a:{v="";var l=function(){var b=g;if(k)return/rv:([^\);]+)(\)|;)/.exec(b);if(q)return/Edge\/([\d\.]+)/.exec(b);if(h)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(b);if(D)return/WebKit\/(\S+)/.exec(b);if(n)return/(?:Version)[ \/]?(\S+)/.exec(b)}();l&&(v=l?l[1]:"");if(h&&(l=f(),null!=l&&l>parseFloat(v))){v=
String(l);break a}}var E=v,z={};v=function(b){d(b,function(){for(var d=0,f=c(String(E)).split("."),g=c(String(b)).split("."),h=Math.max(f.length,g.length),H=0;0==d&&H<h;H++){var k=f[H]||"",A=g[H]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""];if(0==k[0].length&&0==A[0].length)break;d=e(0==k[1].length?0:parseInt(k[1],10),0==A[1].length?0:parseInt(A[1],10))||e(0==k[2].length,0==A[2].length)||e(k[2],A[2]);k=k[3];A=A[3]}while(0==d)}return 0<=d})};f=(l=b.document)&&
h?f()||("CSS1Compat"==l.compatMode?parseInt(E,10):5):void 0;!(l=!k&&!h)&&(l=h)&&(l=9<=Number(f));l||k&&v("1.9.1");h&&v("9");var w=window,r=document,Z=w.location,aa=function(){},ba=/\[native code\]/,p=function(b,c,d){return b[c]=b[c]||d},ca=function(b){b=b.sort();for(var c=[],d=void 0,e=0;e<b.length;e++){var f=b[e];f!=d&&c.push(f);d=f}return c},u=function(){var b;if((b=Object.create)&&ba.test(b))b=b(null);else{b={};for(var c in b)b[c]=void 0}return b},y=p(w,"gapi",{}),m;m=p(w,"___jsl",u());p(m,"I",
0);p(m,"hel",10);var N=function(){var b=Z.href;if(m.dpo)var c=m.h;else{var c=m.h,d=/([#].*&|[#])jsh=([^&#]*)/g,e=/([?#].*&|[?#])jsh=([^&#]*)/g;if(b=b&&(d.exec(b)||e.exec(b)))try{c=decodeURIComponent(b[2])}catch(f){}}return c},da=function(b){var c=p(m,"PQ",[]);m.PQ=[];var d=c.length;if(0===d)b();else for(var e=0,f=function(){++e===d&&b()},g=0;g<d;g++)c[g](f)},L=function(b){return p(p(m,"H",u()),b,u())},G=p(m,"perf",u()),f=p(G,"g",u()),ea=p(G,"i",u());p(G,"r",[]);u();u();var M=function(b,c,d){var e=
G.r;"function"===typeof e?e(b,c,d):e.push([b,c,d])},I=function(b,c,d){c&&0<c.length&&(c=O(c),d&&0<d.length&&(c+="___"+O(d)),28<c.length&&(c=c.substr(0,28)+(c.length-28)),d=c,c=p(ea,"_p",u()),p(c,d,u())[b]=(new Date).getTime(),M(b,"_p",d))},O=function(b){return b.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},P=u(),J=[],t=function(b){throw Error("Bad hint"+(b?": "+b:""));};J.push(["jsl",function(b){for(var c in b)if(Object.prototype.hasOwnProperty.call(b,c)){var d=b[c];"object"==
typeof d?m[c]=p(m,c,[]).concat(d):p(m,c,d)}if(c=b.u)b=p(m,"us",[]),b.push(c),(c=/^https:(.*)$/.exec(c))&&b.push("http:"+c[1])}]);var fa=/^(\/[a-zA-Z0-9_\-]+)+$/,Q=[/\/amp\//,/\/amp$/,/^\/amp$/],ha=/^[a-zA-Z0-9\-_\.,!]+$/,ia=/^gapi\.loaded_[0-9]+$/,ja=/^[a-zA-Z0-9,._-]+$/,na=function(b,c,d,e){var f=b.split(";"),g=f.shift(),h=P[g],k=null;h?k=h(f,c,d,e):t("no hint processor for: "+g);k||t("failed to generate load url");c=k;d=c.match(ka);(e=c.match(la))&&1===e.length&&ma.test(c)&&d&&1===d.length||t("failed sanity: "+
b);return k},pa=function(b,c,d,e){b=oa(b);ia.test(d)||t("invalid_callback");c=R(c);e=e&&e.length?R(e):null;var f=function(b){return encodeURIComponent(b).replace(/%2C/g,",")};return[encodeURIComponent(b.g).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",f(b.version),"/m=",f(c),e?"/exm="+f(e):"","/rt=j/sv=1/d=1/ed=1",b.a?"/am="+f(b.a):"",b.c?"/rs="+f(b.c):"",b.f?"/t="+f(b.f):"","/cb=",f(d)].join("")},oa=function(b){"/"!==b.charAt(0)&&t("relative path");for(var c=b.substring(1).split("/"),d=[];c.length;){b=
c.shift();if(!b.length||0==b.indexOf("."))t("empty/relative directory");else if(0<b.indexOf("=")){c.unshift(b);break}d.push(b)}b={};for(var e=0,f=c.length;e<f;++e){var g=c[e].split("="),h=decodeURIComponent(g[0]),k=decodeURIComponent(g[1]);2==g.length&&h&&k&&(b[h]=b[h]||k)}c="/"+d.join("/");fa.test(c)||t("invalid_prefix");d=0;for(e=Q.length;d<e;++d)Q[d].test(c)&&t("invalid_prefix");d=K(b,"k",!0);e=K(b,"am");f=K(b,"rs");b=K(b,"t");return{g:c,version:d,a:e,c:f,f:b}},R=function(b){for(var c=[],d=0,e=
b.length;d<e;++d){var f=b[d].replace(/\./g,"_").replace(/-/g,"_");ja.test(f)&&c.push(f)}return c.join(",")},K=function(b,c,d){b=b[c];!b&&d&&t("missing: "+c);if(b){if(ha.test(b))return b;t("invalid: "+c)}return null},ma=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,la=/\/cb=/g,ka=/\/\//g,qa=function(){var b=N();if(!b)throw Error("Bad hint");return b};P.m=function(b,c,d,e){(b=b[0])||t("missing_hint");return"https://apis.google.com"+pa(b,c,d,e)};var F=decodeURI("%73cript"),
S=/^[-+_0-9\/A-Za-z]+={0,2}$/,T=function(b,c){for(var d=[],e=0;e<b.length;++e){var f=b[e],g;if(g=f){a:{for(g=0;g<c.length;g++)if(c[g]===f)break a;g=-1}g=0>g}g&&d.push(f)}return d},U=function(){var b=m.nonce;if(void 0!==b)return b&&b===String(b)&&b.match(S)?b:m.nonce=null;var c=p(m,"us",[]);if(!c||!c.length)return m.nonce=null;for(var d=r.getElementsByTagName(F),e=0,f=d.length;e<f;++e){var g=d[e];if(g.src&&(b=String(g.nonce||g.getAttribute("nonce")||"")||null)){for(var h=0,k=c.length;h<k&&c[h]!==g.src;++h);
if(h!==k&&b&&b===String(b)&&b.match(S))return m.nonce=b}}return null},ra=function(b){if("loading"!=r.readyState)V(b);else{var c=U(),d="";null!==c&&(d=' nonce="'+c+'"');r.write("<"+F+' src="'+encodeURI(b)+'"'+d+"></"+F+">")}},V=function(b){var c=r.createElement(F);c.setAttribute("src",b);b=U();null!==b&&c.setAttribute("nonce",b);c.async="true";(b=r.getElementsByTagName(F)[0])?b.parentNode.insertBefore(c,b):(r.head||r.body||r.documentElement).appendChild(c)},sa=function(b,c){var d=c&&c._c;if(d)for(var e=
0;e<J.length;e++){var f=J[e][0],g=J[e][1];g&&Object.prototype.hasOwnProperty.call(d,f)&&g(d[f],b,c)}},ta=function(b,c,d){W(function(){var d=c===N()?p(y,"_",u()):u(),d=p(L(c),"_",d);b(d)},d)},Y=function(b,c){var d=c||{};"function"==typeof c&&(d={},d.callback=c);sa(b,d);c=b?b.split(":"):[];var e=d.h||qa(),f=p(m,"ah",u());if(f["::"]&&c.length){b=[];for(var g=null;g=c.shift();){var h=g.split("."),h=f[g]||f[h[1]&&"ns:"+h[0]||""]||e,k=b.length&&b[b.length-1]||null,n=k;k&&k.hint==h||(n={hint:h,b:[]},b.push(n));
n.b.push(g)}var l=b.length;if(1<l){var q=d.callback;q&&(d.callback=function(){0==--l&&q()})}for(;c=b.shift();)X(c.b,d,c.hint)}else X(c||[],d,e)},X=function(b,c,d){b=ca(b)||[];var e=c.callback,f=c.config,g=c.timeout,h=c.ontimeout,k=c.onerror,n=void 0;"function"==typeof k&&(n=k);var l=null,q=!1;if(g&&!h||!g&&h)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";var k=p(L(d),"r",[]).sort(),u=p(L(d),"L",[]).sort(),r=[].concat(k),v=function(b,c){if(q)return 0;w.clearTimeout(l);
u.push.apply(u,t);var e=((y||{}).config||{}).update;e?e(f):f&&p(m,"cu",[]).push(f);if(c){I("me0",b,r);try{ta(c,d,n)}finally{I("me1",b,r)}}return 1};0<g&&(l=w.setTimeout(function(){q=!0;h()},g));var t=T(b,u);if(t.length){var t=T(b,k),B=p(m,"CP",[]),C=B.length;B[C]=function(b){if(!b)return 0;I("ml1",t,r);var c=function(c){B[C]=null;v(t,b)&&da(function(){e&&e();c()})},d=function(){var b=B[C+1];b&&b()};0<C&&B[C-1]?B[C]=function(){c(d)}:c(d)};if(t.length){var z="loaded_"+m.I++;y[z]=function(b){B[C](b);
y[z]=null};b=na(d,t,"gapi."+z,k);k.push.apply(k,t);I("ml0",t,r);c.sync||w.___gapisync?ra(b):V(b)}else B[C](aa)}else v(t)&&e&&e()},W=function(b,c){if(m.hee&&0<m.hel)try{return b()}catch(d){c&&c(d),m.hel--,Y("debug_error",function(){try{window.___jsl.hefn(d)}catch(b){throw d;}})}else try{return b()}catch(d){throw c&&c(d),d;}};y.load=function(b,c){return W(function(){return Y(b,c)})};f.bs0=window.gapi._bs||(new Date).getTime();M("bs0");f.bs1=(new Date).getTime();M("bs1");delete window.gapi._bs}).call(this);
gapi.load("client",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!1}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,
drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!1,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},
dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},shortlists:{url:""},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},donation:{url:"https://onetoday.google.com/home/donationWidget?usegapi=1"},
plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},additnow:{url:"https://apis.google.com/additnow/additnow.html?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},
plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://gsuite.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},
card:{url:":socialhost:/:session_prefix:_/hovercard/card"},youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},udc_webconsentflow:{params:{url:""},url:"https://myaccount.google.com/webconsent?usegapi=1"},savetoandroidpay:{url:"https://androidpay.google.com/a/widget/save"},
blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},":gplus_url:":"https://plus.google.com",rbr_i:{params:{url:""},
url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},
follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},sharetoclassroom:{url:"https://www.gstatic.com/classroom/sharewidget/widget_stable.html?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},savetowallet:{url:"https://androidpay.google.com/a/widget/save"}}},
h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en_US.XKTeUOz12q0.O/m=__features__/am=AQ/rt=j/d=1/rs=AGLTcCP4sqCpsMFrnkAS1D-fz9HyKnFPQg",u:"https://apis.google.com/js/api:client.js",hee:!0,fp:"72e95bd75c488a34193ed2f7983a8b4f60354666",dpo:!1},fp:"72e95bd75c488a34193ed2f7983a8b4f60354666",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});
var Facebook=function(){this.authResponse=null;this.facebookLogin=$(".facebookLogin");window.fbAsyncInit=function(){FB.init({appId:facebookAppId,cookie:!0,xfbml:!0,version:"v2.2"})};this.initListeners()};Facebook.prototype.initListeners=function(){var b=this;$("body").on("click",".facebookLogin",function(){b.login()})};Facebook.prototype.login=function(){var b=this;FB.login(function(){FB.getLoginStatus(function(c){b.checkUserLoginStatus(c)})},{scope:facebookScope})};
Facebook.prototype.checkUserLoginStatus=function(b){var c=this;this.authResponse=b.authResponse;"connected"===b.status&&(this.getImageProfileUser(),this.getUserInfo(),setTimeout(function(){c.connectUserFromFacebook()},500))};Facebook.prototype.getImageProfileUser=function(){var b=this;FB.api("/me/picture",{redirect:!1,height:500,width:500,type:"normal"},function(c){c&&!c.error&&(b.imageProfile=c)})};
Facebook.prototype.getUserInfo=function(){var b=this;FB.api("/me",{fields:"email, age_range"},function(c){b.email=c.email;b.age=c.age_range.min})};
Facebook.prototype.connectUserFromFacebook=function(){var b=this;FB.api("/me",function(c){c.picture=b.imageProfile.data.url;c.email=b.email;c.age=b.age;$.ajax({url:"/ajax/sendRegistration/externalUserSocial",type:"GET",async:!1,dataType:"html",data:{action:"Facebook",authResponse:JSON.stringify(b.authResponse),userFb:JSON.stringify(c)}}).done(function(b){1==b?(widgetComment.addComment(),b={type:"custom",title:"Benvenuto",callbackModals:'                    <div class="containerMsg">                        <div class="containerMsg">                            <div>                                <label>Login Effettuato con Successo!</label>                            </div>                        </div>                    </div>'},
classModals.openModals(b),setTimeout(function(){bootbox.hideAll()},1E3),$("[data-login]").hide(),$("[data-logout]").show()):0==b?(widgetComment.addComment(),b={type:"custom",title:"Benvenuto",callbackModals:'                    <div class="containerMsg">                        <div class="containerMsg">                            <div>                                <label>Errore Durante il Login!</label>                            </div>                        </div>                    </div>'},
classModals.openModals(b),$("[data-login]").show(),$("[data-logout]").hide()):2==b?(widgetComment.addComment(),b={type:"custom",title:"Benvenuto",callbackModals:'                    <div class="containerMsg">                        <div class="containerMsg">                            <div>                                <label>Email gi\u00e0 presente!</label>                            </div>                        </div>                    </div>'},classModals.openModals(b),$("[data-login]").show(),
$("[data-logout]").hide()):5==b&&(widgetComment.addComment(),b={type:"custom",title:"Benvenuto",callbackModals:'                    <div class="containerMsg">                        <div class="containerMsg">                            <div>                                <label>Non \u00e8 stato possibile effettuare la registrazione, in quanto il tuo account non ha accesso pubblico alla tua email!</label>                            </div>                        </div>                    </div>'},
classModals.openModals(b),$("[data-login]").show(),$("[data-logout]").hide())})})};function checkLoginState(){FB.getLoginStatus(function(b){facebook.statusChangeCallback(b)})}function loadLibraryFb(b,c,e){var g=b.getElementsByTagName(c)[0];b.getElementById(e)||(b=b.createElement(c),b.id=e,b.src="//connect.facebook.net/en_US/sdk.js",g.parentNode.insertBefore(b,g))}loadLibraryFb(document,"script","facebook-jssdk");
var facebook=null,facebook=new Facebook,clientId=googleClientId,apiKey=googleApiKey,scopes=googleScopes;function handleAuthResult(b){google.handleAuthResult(b)}function makeApiCall(){google.makeApiCall()}var Google=function(b,c,e){this.clientId=b;this.apiKey=c;this.scopes=e;this.authResponse=null;this.googleLogin=$("[data-GoogleLogin]");this.init()};
Google.prototype.init=function(){var b=this;$("body").on("click","[data-GoogleLogin]",function(){gapi.client.setApiKey(b.apiKey);gapi.auth.authorize({client_id:b.clientId,scope:b.scopes,immediate:!1},b.handleAuthResult)})};Google.prototype.login=function(){gapi.client.setApiKey(this.apiKey);window.setTimeout(this.checkAuth,1)};Google.prototype.checkAuth=function(){gapi.auth.authorize({client_id:this.clientId,scope:this.scopes,immediate:!1},this.handleAuthResult)};
Google.prototype.handleAuthResult=function(b){var c=$("#authorize-button");b&&!b.error?($(c).css("visibility ","hidden"),gapi.auth.setToken(b),this.makeApiCall(),b&&!b.error&&$.get("https://www.google.com/m8/feeds/contacts/default/full?alt=json&access_token="+b.access_token+"&max-results=700&v=3.0",function(b){})):(c.style.visibility="",c.onclick=this.handleAuthClick)};Google.prototype.handleAuthClick=function(){gapi.auth.authorize({client_id:clientId,scope:scopes,immediate:!1},this.handleAuthResult)};
Google.prototype.makeApiCall=function(){var b=this;gapi.client.load("oauth2","v2",function(){gapi.client.oauth2.userinfo.get().execute(b.connectUserFromGoogle)})};
Google.prototype.connectUserFromGoogle=function(b){$.ajax({url:"/ajax/sendRegistration/externalUserSocial",type:"GET",async:!1,dataType:"html",data:{action:"Google",access_token:gapi.auth.getToken().access_token,userGoogle:JSON.stringify(b)}}).done(function(b){1==b?(widgetComment.addComment(),b={type:"custom",title:"Benvenuto su Calciomercato.it",callbackModals:'                    <div class="containerMsg">                        <div class="containerMsg">                            <div>                                <label>Login Effettuato con Successo!</label>                            </div>                        </div>                    </div>'},
classModals.openModals(b),setTimeout(function(){bootbox.hideAll()},1E3)):0==b?(widgetComment.addComment(),b={type:"custom",title:"Calciomercato.it",callbackModals:'                    <div class="containerMsg">                        <div class="containerMsg">                            <div>                                <label>Errore Durante il Login!</label>                            </div>                        </div>                    </div>'},classModals.openModals(b)):2==b&&(widgetComment.addComment(),
b={type:"custom",title:"Calciomercato.it",callbackModals:'                    <div class="containerMsg">                        <div class="containerMsg">                            <div>                                <label>Email gi\u00e0 presente!</label>                            </div>                        </div>                    </div>'},classModals.openModals(b))})};
Google.prototype.getUserFriendsContacts=function(b){gapi.client.setApiKey(apiKey);var c=this;gapi.auth.authorize({client_id:clientId,scope:"https://www.google.com/m8/feeds",immediate:!1},function(e){e&&!e.error?c.getGoogleContactEmails(b):c.getUserFriendsContacts(b)})};
Google.prototype.getGoogleContactEmails=function(b){var c=clientId;(function(b,g){gapi.auth.authorize({client_id:c,scope:"https://www.google.com/m8/feeds",immediate:b},function(){var b=gapi.auth.getToken();$.ajax({url:"https://www.google.com/m8/feeds/contacts/default/full?max-results=10000",dataType:"jsonp",type:"GET",data:b,success:function(b){xmlDoc=(new DOMParser).parseFromString(b,"text/xml");b=xmlDoc.getElementsByTagName("feed")[0].getElementsByTagName("entry");for(var c=[],e=0;e<b.length;e++){var f=
b[e].getElementsByTagName("title")[0].innerHTML;if("undefined"!=typeof b[e].getElementsByTagName("gd:email")[0]){var k=$(b[e].getElementsByTagName("gd:email")[0]).attr("address");c.push({name:f,email:k})}else for(var D=b[e].getElementsByTagName("email"),v=0;v<D.length;v++)k=D[v].attributes.getNamedItem("address").value,c.push({name:f,email:k})}g(c)}})})})(!0,b)};var google=null,google=new Google(clientId,apiKey,scopes),WidgetUser=function(){this.initListeners()};
WidgetUser.prototype.initListeners=function(){var b=this;$("body").on("click","[data-login], [data-openChat]",function(c){1!=b.isLogged()?b.openPopupLogin():$('[data-msg="1"]').hasClass("redBorder")&&$('[data-msg="1"]').removeClass("redBorder")});$("body").on("click","[data-logout]",function(c){1==b.isLogged()&&b.userLogout()});$("#form_save").closest(".form-group").remove();$("body").on("click",'[data-register="1"]',function(c){bootbox.hideAll();b.retrieveTeam()});$("body").on("click",'[data-forgotPwd="1"]',
function(c){bootbox.hideAll();b.openPopupForgotPwd()});$("body").on("click",'[data-resetPwd="1"]',function(b){var e=$("#resetPwd").val(),g=$("#confirmPwd").val();e!=g&&(b.stopPropagation(),b.preventDefault(),classModals.openModals({type:"custom",title:"Calciomercato.it",callbackModals:'              <div class="containerMsg">                  <div class="containerMsg">                      <div>                          <label>Le due password devono coincidere</label>                      </div>                  </div>              </div>'}))});
$("body").on("click",'[data-sendMail="1"]',function(c){c.stopPropagation();c.preventDefault();bootbox.hideAll();b.forgotPwd(this)});$("body").on("click",'[data-addUser="1"]',function(c){b.sendRegistration(this)});$("body").on("click","[data-defaultLogin]",function(c){c.stopPropagation();c.preventDefault();b.sendLogin(this)});$("body").on("click","[data-FbLogin]",function(b){b.stopPropagation();b.preventDefault()});$("body").on("click","[data-GoogleLogin]",function(b){b.stopPropagation();b.preventDefault()})};
WidgetUser.prototype.isLogged=function(b){var c=0;$.ajax({url:"/ajax/externalUser/Logged",type:"GET",async:!1,dataType:"html"}).done(function(b){c=b});return c};
WidgetUser.prototype.sendLogin=function(b){var c=0;b=$(b).closest("[data-formLogin]").serialize();if(""==$("#loginEmail").val()||""==$("#loginPassword").val())return $("#loginEmail").closest("div").prepend('<div class="loginError">Inserire i dati corretti</div>'),$("#loginEmail").addClass("redBorder"),$("#loginPassword").addClass("redBorder"),!1;$.ajax({url:"/ajax/externalUser/Login?"+b,type:"POST",async:!0,dataType:"html"}).done(function(b){c=b;if(1==b){var g={type:"custom",title:"Benvenuto su IlDemolitore.it",
callbackModals:'                <div class="containerMsg">                    <div class="containerMsg">                        <div>                            <label>Login Effettuato con Successo!</label>                        </div>                    </div>                </div>'};classModals.openModals(g);setTimeout(function(){bootbox.hideAll()},1E3);$("[data-login]").hide();$("[data-logout]").show()}0==b&&(g={type:"custom",title:"Benvenuto su IlDemolitore.it",callbackModals:'                <div class="containerMsg">                    <div class="containerMsg">                        <div>                            <label>Errore Durante il Login!</label>                        </div>                    </div>                </div>'},
classModals.openModals(g),$("[data-login]").show(),$("[data-logout]").hide())});return c};
WidgetUser.prototype.sendRegistration=function(b){b=$(b).closest("[data-formRegistration]").serialize();$.ajax({url:"/ajax/sendRegistration/externalUser?"+b,type:"POST",async:!0,dataType:"html"}).done(function(b){var e="error";if(1==b)var g="Registrazione avvenuta con successo",e="success";0==b&&(g="Errore durante la Registrazione. Riprova!");2==b&&(g="Errore durante la Registrazione. Indirizzo Mail gi\u00e0 presente!");var f=[];f.type=e;f.layout="top";f.mex=g;classNotyfy.openNotyfy(f);1==b&&setTimeout(function(){bootbox.hideAll();
window.location.href="/"},1500)})};WidgetUser.prototype.openPopupLogin=function(){classModals.openModals({type:"custom",title:"ACCEDI",callbackModals:'            <div class="containerForm">                <form id="formLogin" class="login-form" data-formLogin>                    <div class="form__row">                        <div>                            <input id="loginEmail" class="form__input-text form__input-text--m-top" type="email" name="loginEmail" placeholder="E-mail" value="">                        </div>                        <div>                            <input id="loginPassword" class="form__input-text form__input-text--m-top" type="password" name="loginPassword" placeholder="Password" value="">                        </div>                        <label class="lblForgotPwd" data-forgotPwd="1" >Hai dimenticato la password?</label>                        <div class="form__row form__row--m-login">                            <div>                                <input id="button-login" class="button button--fill button--big" type="submit" data-defaultLogin value="Accedi">                            </div>                            <label class="lblRegister" data-register="1" >Non sei ancora registrato?</label>                        </div>                    </div>                </form>                <div>                    <input class="facebookLogin button button--fill button--big" data-FbLogin type="submit" value="Accedi con Fb">                </div>            </div>'})};
WidgetUser.prototype.openPopupForgotPwd=function(){classModals.openModals({type:"custom",title:"RESETTA PASSWORD",callbackModals:'            <div class="containerForm">                <form id="formForgotPwd" class="reset-form" data-formForgotPwd>                    <div class="form__row">                        <div>                            <input id="resetEmail" class="form__input-text form__input-text--m-top" type="email" name="resetEmail" placeholder="E-mail" value="">                        </div>                        <div class="form__row form__row--m-login">                            <div>                                <input id="button-reset" class="button button--fill button--big" type="submit" data-sendMail="1" value="Invia Mail">                            </div>                        </div>                    </div>                </form>            </div>'})};
WidgetUser.prototype.openPopupRegistration=function(b){var c="";null!=b&&$(b).each(function(){});for(b=6;100>b;b++)c+='<option value="'+b+'">'+b+"</option>";classModals.openModals({type:"custom",title:"REGISTRATI",callbackModals:'            <div class="containerForm">                <form id="formRegistration" onSubmit="return false" class="registration-form" data-formRegistration>                    <div class="form__row">                        <div>                            <input id="registrationName" type="text" name="registrationName" placeholder="Nome" required>                        </div>                        <div>                            <input id="registrationSurname" type="text" name="registrationSurname" placeholder="Cognome" value="">                        </div>                        <div>                            <input id="registrationEmail" type="email" name="registrationEmail" placeholder="E-mail" value="">                        </div>                        <div>                            <input id="registrationPassword" type="password" name="registrationPassword" placeholder="Password" value="">                        </div>                        <div>                            <select id="registrationAge" class="selectIsTeam"  name="registrationAge">                            '+
c+'                            </select>                        </div>                        <div>                            <input id="registrationCity" type="hidden" name="registrationCity" placeholder="Citt\u00e0" value="">                        </div>                        <div>                            <input id="registrationTeam" class="selectIsTeam" name="registrationTeam" value="0" type="hidden">                        </div>                        <div class="form__row form__row--m-login">                            <div>                                <input type="submit" id="button-registration" data-addUser="1" class="button button--fill button--big" value="Registrati">                            </div>                        </div>                    </div>                </form>            </div>'});
$(".containerForm").closest(".modal-content").css("height","600px")};WidgetUser.prototype.retrieveTeam=function(){var b=this;$.ajax({url:"/ajax/retrieve/team",type:"GET",async:!0,dataType:"json"}).done(function(c){null!=c&&b.openPopupRegistration(c)});return!1};
WidgetUser.prototype.forgotPwd=function(b){b=$(b).closest("[data-formForgotPwd]").serialize();$.ajax({url:"/ajax/forgot/password?"+b,type:"POST",async:!0,dataType:"json"}).done(function(b){null!=b&&classModals.openModals({type:"custom",title:"Calciomercato.it",callbackModals:'                        <div class="containerMsg">                            <div class="containerMsg">                                <div>                                    <label>Ti abbiamo inviato una mail al tuo indirizzo</label>                                </div>                            </div>                        </div>'})});
return!1};WidgetUser.prototype.userLogout=function(b){$.ajax({url:"/logoutExternalUser",type:"POST",async:!0,dataType:"html"}).done(function(b){if(0!=b)window.location.href="/";else return!1})};var widgetUser=null,widgetUser=new WidgetUser;
